import{_ as h,o as r,c as d,w as g,v as I,a as i,t as m,r as p,b as C,d as $,n as A,F as x,e as y,f as _}from"./index-Cu4peoac.js";const P={name:"PaneGap",props:{baseIndex:{type:Number,default:0},latestIndex:{type:Number,default:999999}},data(){return{}}},V={class:"pane-gap"};function B(s,l,o,c,n,e){return r(),d("div",V,[g(i("span",null,m(o.baseIndex*25),513),[[I,o.baseIndex*25%100==0&&o.baseIndex!=0||o.baseIndex==o.latestIndex]])])}const k=h(P,[["render",B],["__scopeId","data-v-07ef37c1"]]),E=["{","[","(","《","'",'"',"‘","“","（","<"],w=["}","]",")","》","'",'"',",",".",";",":","!","?","？","’","”","。","，","！","）",">","、","：","；"],N=["0","1","2","3","4","5","6","7","8","9"],b=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-"],S={name:"Pane",props:{content:String},data(){return{text:"",endWithBd:!1}},watch:{content(s){this.text=s,this.calcIsEndBd()}},mounted(){this.text=this.content,this.calcIsEndBd()},computed:{isEnWord(){var s;return(s=this.text)==null?void 0:s.match(/^[a-zA-Z]+$/)}},methods:{calcIsEndBd(){var s;this.endWithBd=!!((s=this.text)!=null&&s.match(/.+[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3010|\u3011|\u007e]$/))}}},W={class:"content truncated"},z=["textContent"],R={key:1,ref:"content",class:"content"},D=["textContent"];function F(s,l,o,c,n,e){const t=p("el-tooltip");return r(),d("div",{class:A({pane:!0,"end-with-rbd":n.endWithBd}),ref:"pane"},[e.isEnWord?(r(),C(t,{key:0,effect:"dark",content:n.text,placement:"bottom"},{default:$(()=>[i("div",W,[i("span",{textContent:m(n.text)},null,8,z)])]),_:1},8,["content"])):(r(),d("div",R,[i("span",{textContent:m(o.content)},null,8,D)],512))],2)}const G=h(S,[["render",F],["__scopeId","data-v-844da33b"]]),L={name:"PaneRow",props:{row:Array},components:{Pane:G}},U={class:"row"};function j(s,l,o,c,n,e){const t=p("Pane");return r(),d("div",U,[(r(),d(x,null,y(25,a=>_(t,{content:o.row[a-1]},null,8,["content"])),64))])}const Z=h(L,[["render",j],["__scopeId","data-v-ce4e6c2f"]]),q={name:"PanePaper",props:{modelValue:String},components:{PaneGap:k,PaneRow:Z},watch:{modelValue(s){this.calcContent(s)}},data(){return{rows:[]}},mounted(){this.calcContent(this.modelValue)},methods:{calcContent(s){this.rows=[];const l=s.replaceAll("\r","").replaceAll("	","").replaceAll(" ","");let o=0,c=0,n=[];for(;o<l.length;){let e=[],t="";for(;e.length<25;){let a=l[c+o]||"";if(a==="\n"){const u=25-e.length;for(let f=0;f<u;f++)e.push(" ");o++;break}else if(b.includes(a)){if(t+=a,c++,b.includes(l[c+o]))continue;e.push(t),t="";continue}else if(N.includes(a)){t+=a,c++;continue}else if(w.includes(a))t+=a,e.push(t),t="";else if(E.includes(a)&&e.length===24){t+=a,c++;continue}else{if(t+=a,e.length===24&&w.includes(l[c+o+1])){c++;continue}e.push(t),t=""}c++}n.push(e),c=0,o+=e.filter(a=>a!=" ").join("").length}this.rows=n;for(let e=n.length;e<4;e++)n.push(new Array(25))}}},H={class:"content"};function J(s,l,o,c,n,e){const t=p("pane-gap"),a=p("pane-row"),u=p("el-scrollbar");return r(),C(u,{class:"pane-paper","wrap-style":"overflow-x: hidden"},{default:$(()=>[i("div",H,[g(_(t,null,null,512),[[I,n.rows.length>0]]),(r(!0),d(x,null,y(n.rows,(f,v)=>(r(),d(x,{key:v},[_(a,{row:f},null,8,["row"]),_(t,{"base-index":v+1,"latest-index":n.rows.length},null,8,["base-index","latest-index"])],64))),128))])]),_:1})}const K=h(q,[["render",J],["__scopeId","data-v-647aef21"]]),M=s=>{localStorage.setItem("article",s)},O=()=>localStorage.getItem("article"),Q={components:{PanePaper:K},props:{baseIndex:{type:Number,default:1}},data(){return{value:""}},mounted(){this.getContent()},methods:{saveContent(){M(this.value)},getContent(){this.value=O()||""}}},T={class:"container"},X={class:"result"},Y={class:"textarea"};function ee(s,l,o,c,n,e){const t=p("pane-paper"),a=p("el-input");return r(),d("div",T,[i("div",X,[_(t,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=u=>n.value=u)},null,8,["modelValue"])]),i("div",Y,[_(a,{placeholder:"输入要统计的字符串",modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=u=>n.value=u),class:"input",type:"textarea",clearable:"",resize:"none","input-style":"height: 100%",onChange:e.saveContent},null,8,["modelValue","onChange"])])])}const ne=h(Q,[["render",ee],["__scopeId","data-v-71fbef55"]]);export{ne as default};
