import{_ as h,o as r,c as i,w as g,v as I,a as u,t as m,r as p,b as C,d as $,n as A,F as x,e as y,f as _}from"./index--oIXNsUi.js";const P={name:"PaneGap",props:{baseIndex:{type:Number,default:0},latestIndex:{type:Number,default:999999}},data(){return{}}},V={class:"pane-gap"};function B(o,l,n,c,s,e){return r(),i("div",V,[g(u("span",null,m(n.baseIndex*25),513),[[I,n.baseIndex*25%100==0&&n.baseIndex!=0||n.baseIndex==n.latestIndex]])])}const k=h(P,[["render",B],["__scopeId","data-v-07ef37c1"]]),E=["{","[","(","《","'",'"',"‘","“","（","<"],w=["}","]",")","》","'",'"',",",".",";",":","!","?","？","’","”","。","，","！","）",">","、","：","；"],N=["0","1","2","3","4","5","6","7","8","9"],b=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-"],S={name:"Pane",props:{content:String},data(){return{text:"",endWithBd:!1}},watch:{content(o){this.text=o,this.calcIsEndBd()}},mounted(){this.text=this.content,this.calcIsEndBd()},computed:{isEnWord(){var o;return(o=this.text)==null?void 0:o.match(/^[a-zA-Z]+$/)}},methods:{calcIsEndBd(){var o;this.endWithBd=!!((o=this.text)!=null&&o.match(/.+[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3010|\u3011|\u007e]$/))}}},W={class:"content truncated"},z=["textContent"],R={key:1,ref:"content",class:"content"},D=["textContent"];function F(o,l,n,c,s,e){const t=p("el-tooltip");return r(),i("div",{class:A({pane:!0,"end-with-rbd":s.endWithBd}),ref:"pane"},[e.isEnWord?(r(),C(t,{key:0,effect:"dark",content:s.text,placement:"bottom"},{default:$(()=>[u("div",W,[u("span",{textContent:m(s.text)},null,8,z)])]),_:1},8,["content"])):(r(),i("div",R,[u("span",{textContent:m(n.content)},null,8,D)],512))],2)}const G=h(S,[["render",F],["__scopeId","data-v-844da33b"]]),L={name:"PaneRow",props:{row:Array},components:{Pane:G}},U={class:"row"};function j(o,l,n,c,s,e){const t=p("Pane");return r(),i("div",U,[(r(),i(x,null,y(25,a=>_(t,{content:n.row[a-1]},null,8,["content"])),64))])}const Z=h(L,[["render",j],["__scopeId","data-v-ce4e6c2f"]]),q={name:"PanePaper",props:{modelValue:String},components:{PaneGap:k,PaneRow:Z},watch:{modelValue(o){this.calcContent(o)}},data(){return{rows:[]}},mounted(){this.calcContent(this.modelValue)},methods:{calcContent(o){this.rows=[];const l=o.replaceAll("\r","").replaceAll("	","").replaceAll(" ","");let n=0,c=0,s=[];for(;n<l.length;){let e=[],t="";for(;e.length<25;){let a=l[c+n]||"";if(a==="\n"){const d=25-e.length;if(d==25){n++;break}for(let f=0;f<d;f++)e.push(" ");n++;break}else if(b.includes(a)){if(t+=a,c++,b.includes(l[c+n]))continue;e.push(t),t="";continue}else if(N.includes(a)){t+=a,c++;continue}else if(w.includes(a))t+=a,e.push(t),t="";else if(E.includes(a)&&e.length===24){t+=a,c++;continue}else{if(t+=a,e.length===24&&w.includes(l[c+n+1])){c++;continue}e.push(t),t=""}c++}c>0&&s.push(e),c=0,n+=e.filter(a=>a!=" ").join("").length}this.rows=s;for(let e=s.length;e<4;e++)s.push(new Array(25))}}},H={class:"content"};function J(o,l,n,c,s,e){const t=p("pane-gap"),a=p("pane-row"),d=p("el-scrollbar");return r(),C(d,{class:"pane-paper","wrap-style":"overflow-x: hidden"},{default:$(()=>[u("div",H,[g(_(t,null,null,512),[[I,s.rows.length>0]]),(r(!0),i(x,null,y(s.rows,(f,v)=>(r(),i(x,{key:v},[_(a,{row:f},null,8,["row"]),_(t,{"base-index":v+1,"latest-index":s.rows.length},null,8,["base-index","latest-index"])],64))),128))])]),_:1})}const K=h(q,[["render",J],["__scopeId","data-v-65316146"]]),M=o=>{localStorage.setItem("article",o)},O=()=>localStorage.getItem("article"),Q={components:{PanePaper:K},props:{baseIndex:{type:Number,default:1}},data(){return{value:""}},mounted(){this.getContent()},methods:{saveContent(){M(this.value)},getContent(){this.value=O()||""}}},T={class:"container"},X={class:"result"},Y={class:"textarea"};function ee(o,l,n,c,s,e){const t=p("pane-paper"),a=p("el-input");return r(),i("div",T,[u("div",X,[_(t,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=d=>s.value=d)},null,8,["modelValue"])]),u("div",Y,[_(a,{placeholder:"输入要统计的字符串",modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=d=>s.value=d),class:"input",type:"textarea",clearable:"",resize:"none","input-style":"height: 100%",onChange:e.saveContent},null,8,["modelValue","onChange"])])])}const ne=h(Q,[["render",ee],["__scopeId","data-v-71fbef55"]]);export{ne as default};
