import{_ as h,o as r,c as d,w as g,v as $,a as i,t as m,r as p,b as I,d as y,n as C,F as x,e as P,f as _}from"./index-C6jhcm8G.js";const V={name:"PaneGap",props:{baseIndex:{type:Number,default:0},latestIndex:{type:Number,default:999999}},data(){return{}}},A={class:"pane-gap"};function B(a,l,s,c,t,n){return r(),d("div",A,[g(i("span",null,m(s.baseIndex*25),513),[[$,s.baseIndex*25%100==0&&s.baseIndex!=0||s.baseIndex==s.latestIndex]])])}const k=h(V,[["render",B],["__scopeId","data-v-07ef37c1"]]),E=["{","[","(","《","'",'"',"‘","“","（","<"],b=["}","]",")","》","'",'"',",",".",";",":","!","?","？","’","”","。","，","！","）",">","、","：","；"],N=["0","1","2","3","4","5","6","7","8","9"],v=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-"],W={name:"Pane",props:{content:String},data(){return{text:"",endWithBd:!1}},watch:{content(a){this.text=a,this.calcIsEndBd()}},mounted(){this.text=this.content,this.calcIsEndBd()},computed:{isEnWord(){var a;return(a=this.text)==null?void 0:a.match(/^[a-zA-Z]+$/)}},methods:{calcIsEndBd(){var a;this.endWithBd=!!((a=this.text)!=null&&a.match(/.+[\u3002|\uff1f|\uff01|\uff0c|\u3001|\uff1b|\uff1a|\u201c|\u201d|\u2018|\u2019|\uff08|\uff09|\u300a|\u300b|\u3010|\u3011|\u007e]$/))}}},S={class:"content truncated"},z=["textContent"],R={key:1,ref:"content",class:"content"},D=["textContent"];function F(a,l,s,c,t,n){const e=p("el-tooltip");return r(),d("div",{class:C({pane:!0,"end-with-rbd":t.endWithBd}),ref:"pane"},[n.isEnWord?(r(),I(e,{key:0,effect:"dark",content:t.text,placement:"bottom"},{default:y(()=>[i("div",S,[i("span",{textContent:m(t.text)},null,8,z)])]),_:1},8,["content"])):(r(),d("div",R,[i("span",{textContent:m(s.content)},null,8,D)],512))],2)}const G=h(W,[["render",F],["__scopeId","data-v-844da33b"]]),L={name:"PaneRow",props:{row:Array},components:{Pane:G}},U={class:"row"};function j(a,l,s,c,t,n){const e=p("Pane");return r(),d("div",U,[(r(),d(x,null,P(25,o=>_(e,{content:s.row[o-1]},null,8,["content"])),64))])}const Z=h(L,[["render",j],["__scopeId","data-v-ce4e6c2f"]]),q={name:"PanePaper",props:{modelValue:String},components:{PaneGap:k,PaneRow:Z},watch:{modelValue(a){this.calcContent(a)}},data(){return{rows:[]}},mounted(){this.calcContent(this.modelValue)},methods:{calcContent(a){this.rows=[];const l=a.replaceAll("\r","").replaceAll("	","").replaceAll(" ","");let s=0,c=0,t=[];for(;s<l.length;){let n=[],e="";for(;n.length<25;){let o=l[c+s]||"";if(o==="\n"){const u=25-n.length;for(let f=0;f<u;f++)n.push(" ");s++;break}else if(v.includes(o)){if(e+=o,c++,v.includes(l[c+s]))continue;n.push(e),e="";continue}else if(N.includes(o)){e+=o,c++;continue}else if(b.includes(o))e+=o,n.push(e),e="";else if(E.includes(o)&&n.length===24){e+=o,c++;continue}else{if(e+=o,n.length===24&&b.includes(l[c+s+1])){c++;continue}n.push(e),e=""}c++}t.push(n),c=0,s+=n.filter(o=>o!=" ").join("").length}this.rows=t;for(let n=t.length;n<4;n++)t.push(new Array(25))}}},H={class:"content"};function J(a,l,s,c,t,n){const e=p("pane-gap"),o=p("pane-row"),u=p("el-scrollbar");return r(),I(u,{class:"pane-paper","wrap-style":"overflow-x: hidden"},{default:y(()=>[i("div",H,[g(_(e,null,null,512),[[$,t.rows.length>0]]),(r(!0),d(x,null,P(t.rows,(f,w)=>(r(),d(x,{key:w},[_(o,{row:f},null,8,["row"]),_(e,{"base-index":w+1,"latest-index":t.rows.length},null,8,["base-index","latest-index"])],64))),128))])]),_:1})}const K=h(q,[["render",J],["__scopeId","data-v-647aef21"]]),M={components:{PanePaper:K},props:{baseIndex:{type:Number,default:1}},data(){return{value:""}}},O={class:"container"},Q={class:"result"},T={class:"textarea"};function X(a,l,s,c,t,n){const e=p("pane-paper"),o=p("el-input");return r(),d("div",O,[i("div",Q,[_(e,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=u=>t.value=u)},null,8,["modelValue"])]),i("div",T,[_(o,{placeholder:"输入要统计的字符串",modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=u=>t.value=u),class:"input",type:"textarea",clearable:"",resize:"none","input-style":"height: 100%"},null,8,["modelValue"])])])}const ee=h(M,[["render",X],["__scopeId","data-v-38bab5d5"]]);export{ee as default};
