import{_ as b,r as l,o as a,c as u,a as t,w as f,v as k,d as o,g as i,i as m,t as p,f as V,j as C,F as g,k as M}from"./index-BnI-VtQC.js";const w={name:"CompareResultPanel",props:{equationText:String,hRes:Number,mRes:Number,modalValue:Number},data(){return{}},computed:{deviation(){let n=Math.round(Math.abs(this.hRes-this.mRes)/this.mRes*1e4)/100;return this.$emit("update:modelValue",n),n}}},I={class:"compare-result-panel"},$={class:"item"},z={class:"value"},N={class:"item"},q={class:"value"},F={class:"item"},E={class:"value"};function A(n,e,r,T,s,c){const d=l("el-tag");return a(),u("div",I,[t("div",$,[e[0]||(e[0]=t("div",{class:"label"},"速算结果:",-1)),f(t("div",z,[o(d,{type:"info",size:"large"},{default:i(()=>[m(p(r.hRes),1)]),_:1})],512),[[k,r.hRes]])]),t("div",N,[e[1]||(e[1]=t("div",{class:"label"},"精确结果:",-1)),f(t("div",q,[o(d,{type:"success",size:"large"},{default:i(()=>[m(p(r.mRes),1)]),_:1})],512),[[k,r.mRes]])]),t("div",F,[e[2]||(e[2]=t("div",{class:"label"},"误差范围:",-1)),f(t("div",E,[o(d,{type:"warning",size:"large"},{default:i(()=>[m(p(c.deviation)+"%",1)]),_:1})],512),[[k,r.mRes]])])])}const B=b(w,[["render",A],["__scopeId","data-v-56021d22"]]),K={name:"FceAccumulator",components:{CompareResultPanel:B},data(){return{nums:[],hRes:null,mRes:0,status:0,deviation:0}},mounted(){this.generate()},computed:{equationText(){return this.nums.join(" + ")+" = "}},emits:["callback"],exposes:["compare"],methods:{generate(){this.status=0,this.nums=[];let n=Math.floor(Math.random()*5)+2;for(let e=0;e<n;e++)this.nums.push(Math.floor(Math.random()*999)+1);this.mRes=this.nums.reduce((e,r)=>e+r,0)},compare(){this.status=1,this.$nextTick(()=>{let n={equationText:this.equationText,hRes:this.hRes,mRes:this.mRes,deviation:this.deviation};this.$emit("callback",n)})}}},S={class:"acc-container"},U={class:"acc-equation"},j={key:1};function D(n,e,r,T,s,c){const d=l("el-input-number"),h=l("el-divider"),v=l("compare-result-panel");return a(),u("div",S,[t("div",U,[t("pre",null,p(c.equationText),1),s.status==0?(a(),V(d,{key:0,size:"large",placeholder:"计算值",modelValue:s.hRes,"onUpdate:modelValue":e[0]||(e[0]=_=>s.hRes=_),step:.01,ref:"resInput",onKeyup:C(c.compare,["enter"])},null,8,["modelValue","onKeyup"])):(a(),u("span",j,"?"))]),s.status==1?(a(),u(g,{key:0},[o(h,{direction:"horizontal","content-position":"center"},{default:i(()=>e[2]||(e[2]=[m("对比结果")])),_:1}),o(v,{"h-res":s.hRes,"m-res":s.mRes,modelValue:s.deviation,"onUpdate:modelValue":e[1]||(e[1]=_=>s.deviation=_)},null,8,["h-res","m-res","modelValue"])],64)):M("",!0)])}const P=b(K,[["render",D],["__scopeId","data-v-9c80e3dd"]]),L={name:"FastCalcExercise",components:{FceAccumulator:P},data(){return{totalTime:3600,totalTimeMin:20,status:0,restTime:3e3,task:null,resArr:[]}},computed:{percentage(){return this.restTime/this.totalTime*100},restTimeText(){return parseInt(this.restTime/60)+":"+parseInt(this.restTime%60)}},mounted(){},methods:{startExercise(){this.totalTime=this.totalTimeMin*60,this.restTime=this.totalTime,this.task=setInterval(()=>{this.restTime--,this.restTime<=0&&(this.status=0,this.$refs.fce.compare(),clearInterval(this.task))},1e3),this.status=1},callback(n){this.resArr.push(n)}}},G={class:"container"},H={class:"clock"},J={key:0,class:"clock-setting"},O={class:"clock-input"},Q={class:"clock-btn"},W={key:1,class:"clock-text"},X={class:"toolbar"},Y={key:1,class:"tip-block"};function Z(n,e,r,T,s,c){const d=l("el-input-number"),h=l("el-button"),v=l("el-progress"),_=l("el-divider"),x=l("el-scrollbar"),y=l("fce-accumulator");return a(),u("div",G,[o(x,{class:"op-box"},{default:i(()=>[t("div",H,[o(v,{percentage:c.percentage,status:"success",type:"dashboard","stroke-width":10,width:250},{default:i(()=>[s.status===0?(a(),u("div",J,[t("div",O,[o(d,{modelValue:s.totalTimeMin,"onUpdate:modelValue":e[0]||(e[0]=R=>s.totalTimeMin=R),class:"min-input",min:1,max:60},{prefix:i(()=>e[2]||(e[2]=[t("div",null,"倒计时",-1)])),suffix:i(()=>e[3]||(e[3]=[t("div",null,"分钟",-1)])),_:1},8,["modelValue"])]),t("div",Q,[o(h,{type:"primary",onClick:c.startExercise},{default:i(()=>e[4]||(e[4]=[m("开始")])),_:1},8,["onClick"])])])):(a(),u("div",W,p(c.restTimeText),1))]),_:1},8,["percentage"]),o(_,{direction:"horizontal","content-position":"center"},{default:i(()=>e[5]||(e[5]=[m(" 概况 ")])),_:1})])]),_:1}),o(x,{class:"content-box"},{default:i(()=>[s.status===1?(a(),u(g,{key:0},[t("div",X,[e[7]||(e[7]=t("div",null,"快速计算-累加和",-1)),o(h,{type:"success",size:"small",onClick:e[1]||(e[1]=R=>n.$refs.fce.generate())},{default:i(()=>e[6]||(e[6]=[m("下一题")])),_:1})]),o(y,{ref:"fce",onCallback:c.callback},null,8,["onCallback"])],64)):(a(),u("div",Y,e[8]||(e[8]=[t("div",null,"设置好时间和题量点击开始",-1)])))]),_:1})])}const te=b(L,[["render",Z],["__scopeId","data-v-6cb8f15a"]]);export{te as default};
